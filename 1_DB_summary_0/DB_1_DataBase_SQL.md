### 데이터베이스(DB)

- 체계화된 데이터
- 몇 개의 자료 파일을 조직적으로 통합하여 자료 항목의 중복을 없애고 자료를 구조화하여 기억시켜 놓은 자료의 집합체

### 장점

- 데이터 중복 최소화
- 데이터 무결성(정확한 정보를 보장)
- 데이터 일관성
- 데이터 독립성 (물리적 / 논리적)
- 데이터 표준화
- 데이터 보안 유지

### 관계형 데이터베이스 (RDB)

- Relational Database
- 키(key)와 값(value)들의 간단한 관계(relation)를 표(table) 형태로 정리한 데이터베이스

### 관계형 데이터베이스 용어

- 스키마(schema) : 데이터베이스에서 자료의 구조, 표현방법, 관계등 전반적인 명세를 기술한 것.
- 테이블(table) : 열(컬럼/필드)과 행(레코드/값)의 모델을 사용해 조직된 데이터 요소들의 집합
- 열(column) : 각 열에는 고유한 데이터 형식이 지정됨.
- 행(row) : 실제 데이터가 저장되는 형태
- 기본키(Primary Key) : 각 행(레코드)의 고유 값, 반드시 설정해야 하며, 데이터베이스 관리 및 관계 설정 시 주요하게 활용 됨

### 관계형 데이터베이스 관리 시스템(RDBMS)

- Relational Database Management System
- 관계형 모델을 기반으로 하는 데이터베이스 관리시스템을 의미
- MySQL, SQLite, PostgreSQL, ORACLE, MS SQL 등 있음

### SQLite

- 서버 형태가 아닌 파일 형식으로 응용 프로그램에 넣어서 사용하는 비교적 가벼운 데이터베이스
- 구글 안드로이드 운영체제에 기본적으로 탑재된 데이터베이스이며, 임베디드 소프트웨어에도 많이 활용됨
- 로컬에서 간단한 DB 구성을 할 수 있으며, 오픈소스 프로젝트이기 때문에 자유롭게 사용가능

### Sqlite Type Affinity

- 특정 컬럼에 저장하도록 권장하는 데이터 타입
  1. INTEGER
  2. TEXT
  3. BLOB
  4. REAL
  5. NUMERIC

### SQL (Structured Query Language)

- 관계형 데이터베이스 관리시스템의 데이터 관리를 위해 설계된 특수 목적으로 프로그래밍 언어
- 데이터베이스 스키마 생성 및 수정
- 자료의 검색 및 관리
- 데이터베이스 객체 접근 조정 관리

### SQL 분류

| 분류                                                     | 개념                                                         | 예시                                        |
| -------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------- |
| DDL - 데이터 정의 언어<br />(Data Definition Language)   | 관계형 데이터베이스 구조(테이블, 스키마)를 정의하기 위한 명령어 | CREATE<br />DROP<br />ALTER                 |
| DML - 데이터 조작 언어<br />(Data Manipulation Language) | 데이터를 저장, 조회, 수정, 삭제 등을 하기 위한 명령어        | INSERT<br />SELECT<br />UPDATE<br />DELETE  |
| DCL - 데이터 제어 언어<br />(Data Control Language)      | 데이터베이스 사용자의 권한 제어를 위해 사용하는 명령어       | GRANT<br />REVOKE<br />COMMIT<br />ROLLBACK |

### SQL Keywords - Data Manipulation Language

- INSERT : 새로운 데이터 삽입(추가)
- SELECT : 저장되어있는 데이터 조회
- UPDATE : 저장되어있는 데이터 갱신
- DELETE : 저장되어있는 데이터 삭제

### SELECT와 함께 사용하는 clause

- LIMIT
  - 쿼리에서 반환되는 행 수를 제한
  - 특정 행부터 시작해서 조회하기 위해 OFFSET 키워드와 함께 사용하기도 함
- WHERE
  - 쿼리에서 반환된 행에 대한 특정 검색 조건을 지정
- SELECT DISTINCT
  - 조회 결과에서 중복 행을 제거
  - DISTINCT 절은 SELECT 키워드 바로 뒤에 작성해야 함

### CRUD 정리하기

|      | 구문   | 예시                                                         |
| ---- | ------ | ------------------------------------------------------------ |
| C    | INSERT | INSERT INTO 테이블이름 (컬럼1, 컬럼2, ...) VALUES (값1, 값2 ); |
| R    | SELECT | SELECT * FROM 테이블이름 WHERE 조건;                         |
| U    | UPDATE | UPDATE 테이블이름 SET 컬럼1=값1, 컬럼2=값2 WHERE 조건;       |
| D    | DELETE | DELETE FROM 테이블이름 WHERE 조건;                           |

### Aggregate function

- "집계 함수"
- 값 집합에 대한 계산을 수행하고 단일 값을 반환
  - 여러 행으로부터 하나의 결과값을 반환하는 함수
- SELECT 구문에서만 사용됨

### Overview of SQLite aggregate functions

- COUNT
  - 그룹의 항목 수를 가져옴
- AVG
  - 모든 값의 평균을 계산
- MAX
  - 그룹에 있는 모든 값의 최대값을 가져옴
- MIN
  - 그룹에 있는 모든 값의 최소값을 가져옴
- SUM
  - 모든 값의 합을 계산

### LIKE operator

- 패턴 일치를 기반으로 데이터를 조회하는 방법
- SQLite는 패턴 구성을 위한 2개의 wildcards를 제공
  - %(percent sign)
    - 0개 이상의 문자
  - _(underscore)
    - 임의의 단일 문자

### [참고] wildcard character

- 파일을 지정할 때, 구체적인 이름 대신에 여러 파일을 동시에 지정할 목적으로 사용하는 특수 기호
  - *, ? 등
- 주로 특정한 패턴이 있는 문자열 혹은 파일을 찾거나, 긴 이름을 생략할 때 쓰임
- 텍스트 값에서 알 수 없는 문자를 사용할 수 있는 특수 문자로, 유사하지만 동일한 데이터가 아닌 여러 항목을 찾기에 매우 편리한 문자
- 지정된 패턴 일치를 기반으로 데이터를 수집하는 데도 도움이 될 수 있음

| 와일드카드패턴 | 의미                                         |
| -------------- | -------------------------------------------- |
| `2%`           | 2로 시작하는 값                              |
| `%2`           | 2로 끝나는 값                                |
| `%2%`          | 2가 들어가는 값                              |
| `_2%`          | 아무 값이 하나 있고 두번째가 2로 시작하는 값 |
| `1___`         | 1로 시작하고 총 4자리인 값                   |
| `2_%_% / 2__%` | 2로 시작하고 적어도 3자리인 값               |

### ORDER BY

- 조회 결과 집합을 정렬
- SELECT 문에 추가하여 사용
- 정렬 순서를 위한 2개의 keyword 제공
  - ASC - 오름차순(default)
  - DESC - 내림차순

### GROUP BY

- 행 집합에서 요약 행 집합을 만듦
- SELECT 문의 optional 절
- 선택된 행 그룹을 하나 이상의 열 값으로 요약 행으로 만듦
- 문장에 WHERE 절이 포함된 경우 반드시 WHERE 절 뒤에 작성해야 함

### ALTER TABLE statement

- ALTER TABLE의 3가지 기능
  1. table 이름 변경
  2. 테이블에 새로운 column 추가
  3. [참고] column 이름 수정 (new in sqlite 3.25.0)